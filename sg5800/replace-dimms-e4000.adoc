---
permalink: sg5800/replace-dimms-e4000.html 
sidebar: sidebar 
keywords:  
summary:  
---
= E4000のDIMMの交換（SG5800）
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
E4000で障害が発生したDIMMを交換できます。

.このタスクについて
DIMM を交換するには、コントローラのキャッシュサイズを確認し、コントローラをオフラインにします。次にコントローラ、 DIMM を取り外し、新しい DIMM をコントローラに取り付けます。その後、コントローラをオンラインに戻し、ストレージアレイが正常に動作していることを確認します。

コントローラを交換すると、アプライアンスストレージノードにアクセスできなくなる可能性があります。E4000シリーズコントローラが十分に機能している場合は、次の操作を実行できます。 link:../commonhardware/placing-appliance-into-maintenance-mode.html["SG5800コントローラをメンテナンスモードにする"]。

.作業を開始する前に
* 次のものがあることを確認します。
+
** 交換用 DIMM 。
** ESD リストバンドを装着するか、静電気防止処置を施しておきます。
** 静電気防止処置を施した平らな作業場所。
** コントローラキャニスターに接続する各ケーブルを識別するためのラベル。


* SANtricityシステムマネージャへのアクセス：
+
** Grid Managerで、* nodes *>*_appliance node_*>* SANtricity System Manager *を選択します。コントローラ情報はにあり https://docs.netapp.com/us-en/storagegrid/monitor/viewing-santricity-system-manager-tab.html["SANtricityの[System Manager]タブ"]ます。
+

NOTE: この手順の特定の手順では、グリッドマネージャを使用してSANtricityシステムマネージャにアクセスできない可能性があります。SG5800コントローラがシャットダウンされている場合は、ブラウザを使用してSANtricityシステムマネージャにアクセスする必要があります。

** 管理ステーションのブラウザで、コントローラのドメイン名またはIPアドレスを指定します。






== 手順 1 ： DIMM の交換が必要かどうかを確認します

DIMM を交換する前に、コントローラのキャッシュサイズを確認してください。

.手順
. コントローラのストレージアレイプロファイルにアクセスします。SANtricityシステムマネージャから、*サポート*›*サポートセンター*にアクセスします。サポートリソースページで、 * ストレージアレイプロファイル * を選択します。
. 下にスクロールするか、検索フィールドを使用して、 * データキャッシュモジュール * 情報を検索します。
. DIMMに障害が発生した場合、または「*データキャッシュモジュール*が最適でない」と報告されたDIMMがある場合は、DIMMの場所をメモしてから、コントローラのDIMMを交換してください。




== 手順2：コントローラシェルフの電源をオフにする

DIMMを安全に取り外して交換できるように、コントローラの電源をオフにします。

.手順
. SANtricity System Manager の Recovery Guru で詳細を確認し、メモリが一致していない問題が報告されていること、および先に対処する必要がある項目がほかにないことを確認します。
. Recovery Guru の詳細領域で、交換する DIMM を特定します。
. SANtricity System Managerを使用してストレージアレイの構成データベースをバックアップします。
+
コントローラを取り外すときに問題が発生した場合は、保存したファイルを使用して構成をリストアできます。RAID 構成データベースの現在の状態が保存されます。これには、コントローラ上のボリュームグループとディスクプールのすべてのデータが含まれます。

+
** System Manager から：
+
... *サポート›サポートセンター›診断*を選択します。
... [ 構成データの収集 *] を選択します。
... [*Collect*]( 収集 ) をクリックします
+
ブラウザのDownloadsフォルダに、*configurationdata-という名前でファイルが保存されます。
<arrayName>-<dateTime>.7z *。





. SG5800コントローラをシャットダウンします。
+
.. グリッドノードにログインします。
+
... 次のコマンドを入力します。 `ssh admin@grid_node_IP`
... に記載されているパスワードを入力します `Passwords.txt` ファイル。
... 次のコマンドを入力してrootに切り替えます。 `su -`
... に記載されているパスワードを入力します `Passwords.txt` ファイル。
+
rootとしてログインすると、プロンプトがから変わります `$` 終了： `#`。



.. SG5800コントローラをシャットダウンします。
+
*`shutdown -h now`*

.. キャッシュメモリ内のデータがドライブに書き込まれるまで待ちます。
+
キャッシュされたデータをドライブに書き込む必要がある場合は、E4000コントローラの背面にある緑のキャッシュアクティブLEDが点灯します。この LED が消灯するまで待つ必要があります。



. SANtricity システムマネージャのホームページで、「 * 進行中の処理を表示」を選択します。
. すべての処理が完了したことを確認してから、次の手順に進みます。
. コントローラシェルフの両方の電源スイッチをオフにします。
. コントローラシェルフのすべての LED が消灯するまで待ちます。




== 手順3：コントローラキャニスターを取り外す

コントローラキャニスターをシステムから取り外し、コントローラキャニスターカバーを取り外します。

.手順
. 接地対策がまだの場合は、自身で適切に実施します。
. ケーブルマネジメントデバイスに接続しているケーブルをまとめているフックとループストラップを緩め、システムケーブルとSFPをコントローラキャニスターから外し（必要な場合）、どのケーブルがどこに接続されていたかを記録します。
+
ケーブルはケーブルマネジメントデバイスに収めたままにします。これにより、ケーブルマネジメントデバイスを取り付け直すときに、ケーブルを整理する必要がありません。

. ケーブルマネジメントデバイスをコントローラキャニスターの左右から取り外し、脇に置きます。
. カムハンドルのラッチを外れるまで押し、カムハンドルをいっぱいまで開いてコントローラキャニスターをミッドプレーンから外し、両手でコントローラキャニスターをシャーシから引き出します。
. コントローラキャニスターを裏返し、平らで安定した場所に置きます。
. コントローラキャニスターの側面にある青いボタンを押してカバーを開き、カバーを上に回転させてコントローラキャニスターから取り外します。
+
image::../media/drw_E4000_open_controller_module_cover_IEOPS-870.png[コントローラキャニスターのカバーを開きます。]





== 手順4：DIMMを交換する

コントローラ内部のDIMMの場所を確認して取り外し、交換します。

.手順
. 接地対策がまだの場合は、自身で適切に実施します。
. システムコンポーネントを交換する前にシステムのクリーンシャットダウンを実行し、不揮発性メモリ（ NVMEM ）内の書き込み前のデータが失われないようにする必要があります。LEDはコントローラキャニスターの背面にあります。
. NVMEM LED が点滅していない場合は、 NVMEM が空の状態です。以降の手順を省略して、この手順の次のタスクに進むことができます。
. NVMEM LED が点滅している場合は、 NVMEM にデータが含まれています。バッテリを取り外してメモリをクリアする必要があります。
+
.. コントローラキャニスターの側面にある青いボタンを押して、コントローラキャニスターからバッテリを取り外します。
.. 保持ブラケットからバッテリを上にスライドさせ、持ち上げてコントローラキャニスターから取り出します。
.. バッテリケーブルの場所を確認し、バッテリプラグのクリップを押してプラグソケットからロッククリップを外し、バッテリケーブルをソケットから抜きます。
.. NVMEM LED が点灯していないことを確認します。
.. バッテリコネクタを再接続し、コントローラ背面のLEDを再度確認します。
.. バッテリケーブルを抜きます。


. コントローラキャニスターでDIMMの場所を確認します。
. 交換用DIMMを正しい向きで挿入できるように、ソケット内のDIMMの向きと位置をメモします。
. DIMM の両側にある 2 つのツメをゆっくり押し開いて DIMM をスロットから外し、そのままスライドさせてスロットから取り出します。
+
DIMMが少し上に回転します。

. DIMMを所定の位置まで回転させ、ソケットから引き出します。
+

NOTE: DIMM 回路基板のコンポーネントに力が加わらないように、 DIMM の両端を慎重に持ちます。

+
image::../media/drw_E4000_replace_dimms_IEOPS-865.png[DIMMを取り外します。]

+
|===


 a| 
image::../media/legend_icon_01.png[コールアウトリファレンス1]
| DIMM のツメ 


 a| 
image::../media/legend_icon_02.png[コールアウトリファレンス2]
| DIMM 
|===
. 交換用 DIMM を静電気防止用の梱包バッグから取り出し、 DIMM の端を持ってスロットに合わせます。
+
DIMM のピンの間にある切り欠きを、ソケットの突起と揃える必要があります。

. DIMMをスロットに対して垂直に挿入します。
+
DIMM のスロットへの挿入にはある程度の力が必要です。簡単に挿入できない場合は、 DIMM をスロットに正しく合わせてから再度挿入してください。

+

NOTE: DIMM がスロットにまっすぐ差し込まれていることを目で確認してください。

. DIMM の両端のノッチにツメがかかるまで、 DIMM の上部を慎重にしっかり押し込みます。
. バッテリを再接続します。
+
.. バッテリを接続します。
.. プラグがマザーボードのバッテリ電源ソケットに固定されていることを確認します。
.. バッテリを金属板の側壁の保持ブラケットに合わせます。
.. バッテリラッチがカチッという音がして側壁の開口部に収まるまで、バッテリパックを下にスライドさせます。


. コントローラキャニスターのカバーを再度取り付けます。




== 手順5：コントローラキャニスターを再度取り付ける

コントローラキャニスターをシャーシに再度取り付けます。

.手順
. 接地対策がまだの場合は、自身で適切に実施します。
. コントローラキャニスターのカバーを取り付けます（まだ取り付けていない場合）。
. コントローラキャニスターを裏返し、端をシャーシの開口部に合わせます。
. コントローラキャニスターをシステムの途中までそっと押し込みます。コントローラキャニスターの端をシャーシの開口部に合わせ、コントローラキャニスターをシステムの半分までそっと押し込みます。
+

NOTE: 指示があるまでコントローラキャニスターをシャーシに完全に挿入しないでください。

. 必要に応じてシステムにケーブルを再接続します。
. コントローラキャニスターの再取り付けが完了します。
+
.. カムハンドルを開いた状態で、コントローラキャニスターをミッドプレーンまでしっかりと押し込んで完全に装着し、カムハンドルをロック位置まで閉じます。
+

NOTE: コネクタの破損を防ぐため、コントローラキャニスターをスライドしてシャーシに挿入する際に力を入れすぎないように注意してください。

+
コントローラは、シャーシに装着されるとすぐにブートを開始します。

.. ケーブルマネジメントデバイスをまだ取り付けていない場合は、取り付け直します。
.. ケーブルマネジメントデバイスに接続されているケーブルをフックとループストラップでまとめます。


. コントローラシェルフの両方の電源スイッチをオンにします。




== 手順6：DIMM交換後の処理

コントローラをオンラインにし、サポートデータを収集し、運用を再開します。

.手順
. コントローラのブート時に、コントローラの LED を確認します。
+
もう一方のコントローラとの通信が再確立されると次のような状態

+
** 黄色の警告 LED が点灯した状態になります。
** ホストリンク LED は、ホストインターフェイスに応じて、点灯、点滅、消灯のいずれかになります。


. コントローラがオンラインに戻ったら、ステータスが「最適」になっていることを確認し、コントローラシェルフの警告LEDを確認します。
+
ステータスが「最適」でない場合やいずれかの警告 LED が点灯している場合は、すべてのケーブルが正しく装着され、コントローラキャニスターが正しく取り付けられていることを確認します。必要に応じて、コントローラキャニスターを取り外して再度取り付けます。
注：問題が解決しない場合は、テクニカルサポートにお問い合わせください。

. SANtricity システムマネージャを使用してストレージアレイのサポートデータを収集します。
+
.. *サポート›サポートセンター›診断*を選択します。
.. 「サポートデータの収集」を選択します。
.. [*Collect*]( 収集 ) をクリックします
+
ブラウザの Downloads フォルダに、「 * support-data.7z * 」という名前でファイルが保存されます。



. リブートが完了し、ノードが再びグリッドに参加したことを確認します。Grid Managerで、アプライアンスノードの*[Nodes]*ページで、アクティブなアラートがなく、ノードがグリッドに接続されていることを示す正常なステータス（ノード名の左側にある緑のチェックマーク）が表示されていることを確認します。
+

NOTE: 電源スイッチをオンにしてから、ノードがグリッドに再び参加してGrid Managerに正常ステータスが表示されるまで、20分かかることがあります。」


