---
permalink: sg5700/upgrading-drive-firmware-using-santricity-system-manager-online.html 
sidebar: sidebar 
keywords: storagegrid, sg5700, storage node, storage appliance, upgrade, upgrading, firmware, drive, disk, SANtricity System Manager, SANtricity 
summary: ドライブファームウェアをアップグレードして、最新の機能とバグ修正をすべて適用します。 
---
= SANtricity System Managerオンライン方式を使用したSG5700ドライブファームウェアのアップグレード
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
SANtricity System Managerオンライン方式を使用してアプライアンスのドライブのファームウェアをアップグレードし、最新の機能とバグ修正をすべて適用します。

.作業を開始する前に
* ストレージアプライアンスのステータスが「最適」であることを確認します。
* すべてのドライブのステータスが最適な状態である必要があります



CAUTION: 一度に複数のStorageGRID アプライアンスでドライブファームウェアをアップグレードしないでください。ご使用の導入モデルとILMポリシーによっては、原因 のデータを使用できなくなる可能性があります。

.このタスクについて
ドライブは、アプライアンスのI/O実行中に一度に1つずつアップグレードされます。この方法では、アプライアンスをメンテナンスモードにする必要はありません。ただし、システムのパフォーマンスに影響が出る可能性があり、アップグレードにはオフラインの場合よりも数時間かかることがあります。

[NOTE]
====
冗長性がないボリュームに属するドライブは、を使用して更新する必要があります。 link:upgrading-drive-firmware-using-santricity-system-manager-offline.html["オフラインホウシキ"]。フラッシュ読み取りキャッシュに関連付けられているドライブ、またはデグレード状態のプールやボリュームグループには、オフライン方式を使用する必要があります。

を使用する必要があります link:upgrading-drive-firmware-using-santricity-system-manager-offline.html["オフラインホウシキ"] SSDドライブのアップグレード時。

====
.手順
. 次のいずれかの方法で SANtricity System Manager にアクセスします。
+
** StorageGRID アプライアンス・インストーラを使用して、 * アドバンスト * > * SANtricity システム・マネージャ * を選択します
** グリッドマネージャを使用して、* nodes *>*_ Storage Node_*>* SANtricity System Manager *を選択します
** SANtricity System ManagerでストレージコントローラのIPにアクセスします。
+
`*https://_Storage_Controller_IP_*`



. 必要に応じて、 SANtricity System Manager 管理者のユーザ名とパスワードを入力します。
. ストレージアプライアンスに現在インストールされているドライブファームウェアのバージョンを確認します。
+
.. SANtricity システムマネージャで、 * support * > * Upgrade Center * を選択します。
.. ドライブファームウェアのアップグレードで、 * アップグレードの開始 * を選択します。
+
[ドライブファームウェアのアップグレード]ページには、現在インストールされているドライブファームウェアファイルが表示されます。

.. 現在のドライブファームウェア列に表示されているドライブファームウェアのリビジョンとドライブ ID をメモします。
+
image::../media/storagegrid_update_drive_firmware.png[ドライブファームウェアをアップグレードします]

+
次の例では、

+
*** ドライブファームウェアのリビジョンは * MS02 * です。
*** ドライブ識別子は *KPM51VUG800G* です。


.. Associated Drives 列で「 * View drives 」を選択して、ストレージアプライアンス内のドライブがどこに取り付けられているかを表示します。
.. ドライブファームウェアのアップグレードウィンドウを閉じます。


. 使用可能なドライブファームウェアのアップグレードをダウンロードして準備します。
+
.. ドライブファームウェアのアップグレードで、 * ネットアップサポート * を選択します。
.. NetApp Support Site で、*[ダウンロード]*タブを選択し、*[ Eシリーズディスクドライブファームウェア]*を選択します。
+
E-Series Disk Firmware ページが表示されます。

.. ストレージアプライアンスにインストールされているドライブ識別子 * をそれぞれ検索し、各ドライブ識別子に最新のファームウェアリビジョンが適用されていることを確認します。
+
*** ファームウェアリビジョンがリンクでない場合、このドライブ識別子には最新のファームウェアリビジョンが含まれます。
*** ドライブ識別子が記載されたドライブのパーツ番号が 1 つ以上であれば、それらのドライブでファームウェアのアップグレードを実行できます。任意のリンクを選択してファームウェアファイルをダウンロードできます。
+
image::../media/storagegrid_drive_firmware_download.png[E シリーズディスクファームウェアのページです]



.. 新しいファームウェアリビジョンがリストされている場合は、ファームウェアリビジョンのリンクを選択します（ダウンロード）列をクリックしてをダウンロードします `.zip` ファームウェアファイルを含むアーカイブ。
.. サポートサイトからダウンロードしたドライブファームウェアのアーカイブファイルを展開（解凍）します。


. ドライブファームウェアのアップグレードをインストールします。
+
.. SANtricity システムマネージャのドライブファームウェアアップグレードで、 * アップグレードの開始 * を選択します。
.. [* Browse] を選択し、サポートサイトからダウンロードした新しいドライブファームウェアファイルを選択します。
+
ドライブファームウェアファイルの名前は次のようになります。 `D_HUC101212CSS600_30602291_MS01_2800_0002.dlp`。

+
ドライブファームウェアファイルは一度に 1 つずつ、最大 4 つまで選択できます。同じドライブに複数のドライブファームウェアファイルが対応している場合は、ファイル競合エラーが発生します。アップグレードに使用するドライブファームウェアファイルを決定し、それ以外のファイルは削除します。

.. 「 * 次へ * 」を選択します。
+
* ドライブの選択 * には、選択したファームウェアファイルでアップグレードできるドライブがリストされています。

+
対応しているドライブのみが表示されます。

+
ドライブに対して選択したファームウェアが* Proposed Firmware *列に表示されます。このファームウェアを変更する必要がある場合は、 * 戻る * を選択します。

.. [すべてのドライブをオンラインにアップグレード]*を選択します。ストレージアレイでのI/O処理中に、ファームウェアのダウンロードが可能なドライブをアップグレードします。このアップグレード方式を選択した場合、これらのドライブを使用している関連ボリュームへのI/Oを停止する必要はありません。
+

NOTE: オンラインアップグレードは、オフラインアップグレードよりも数時間かかることがあります。

.. テーブルの最初の列で、アップグレードするドライブを選択します。
+
ベストプラクティスとして、同じモデルのドライブをすべて同じファームウェアリビジョンにアップグレードすることを推奨します。

.. [開始]*を選択し、アップグレードを確定します。
+
アップグレードを停止する必要がある場合は、 * 停止 * を選択します。実行中のファームウェアのダウンロードは完了します。開始されていないファームウェアのダウンロードはキャンセルされます。

+

CAUTION: ドライブファームウェアのアップグレードを停止すると、データが失われたり、ドライブを使用できなくなったりする可能性があります。

.. （オプション）アップグレードされた内容のリストを表示するには、 * ログを保存 * を選択します。
+
ログファイルは、ブラウザのダウンロードフォルダにという名前で保存されます `latest-upgrade-log-timestamp.txt`。

+
link:troubleshoot-upgrading-drive-firmware-using-santricity-system-manager.html["必要に応じて、ドライバファームウェアのアップグレードエラーのトラブルシューティングを行う"]。




