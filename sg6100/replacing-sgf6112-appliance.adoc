---
permalink: sg6100/replacing-sgf6112-appliance.html 
sidebar: sidebar 
keywords: storagegrid, sgf6112, Replacing, replace, remove, removing, removal, install, installing, installation 
summary: アプライアンスが適切に機能しない場合や障害が発生した場合は、交換が必要となることがあります。 
---
= SGF6112アプライアンスを交換してください
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
アプライアンスが適切に機能しない場合や障害が発生した場合は、交換が必要となることがあります。

.作業を開始する前に
* 交換するアプライアンスと同じパーツ番号の交換用アプライアンスを用意しておきます。アプライアンスの前面に取り付けられているタグを調べて、パーツ番号が一致していることを確認します。
* アプライアンスに接続する各ケーブルを識別するためのラベルを用意しておきます。
* これで完了です link:locating-sgf6112-in-data-center.html["アプライアンスを物理的に設置します"]。


.このタスクについて
アプライアンスの交換中は、 StorageGRID ノードにアクセスできなくなります。アプライアンスが動作している場合は、この手順 の起動時に通常の方法でシャットダウンを実行できます。


NOTE: StorageGRID ソフトウェアをインストールする前にアプライアンスを交換すると、この手順 の完了後すぐに StorageGRID アプライアンスインストーラにアクセスできない場合があります。StorageGRID アプライアンスインストーラには、アプライアンスと同じサブネット上の他のホストからはアクセスできますが、他のサブネット上のホストからはアクセスできません。この状態は 15 分以内に（元のアプライアンスのいずれかの ARP キャッシュエントリがタイムアウトした時点で）自動的に解消されます。あるいは、古い ARP キャッシュエントリをローカルルータまたはゲートウェイから手動でパージすれば、すぐにこの状態を解消できます。

.手順
. アプライアンスの現在の設定を表示して記録します。
+
.. 交換するアプライアンスにログインします。
+
... 次のコマンドを入力します。 `ssh admin@_grid_node_IP_`
... に記載されているパスワードを入力します `Passwords.txt` ファイル。
... 次のコマンドを入力してrootに切り替えます。 `su -`
... に記載されているパスワードを入力します `Passwords.txt` ファイル。
+
rootとしてログインすると、プロンプトがから変わります `$` 終了： `#`。



.. 入力するコマンド `*run-host-command ipmitool lan print*` をクリックして、アプライアンスの現在のBMC設定を表示します。


. link:power-sgf6112-off-on.html#shut-down-the-sgf6112-appliance-or-sg6100-cn-controller["アプライアンスをシャットダウンします"]です。
. このStorageGRIDアプライアンスのいずれかのネットワークインターフェイスがDHCP用に設定されている場合は、交換用アプライアンスのMACアドレスを参照するように、DHCPサーバの永続的なDHCPリース割り当てを更新する必要があります。これにより、アプライアンスに適切なIPアドレスが確実に割り当てられます。
+
ネットワーク管理者またはDHCPサーバ管理者に連絡して、恒久的なDHCPリース割り当てを更新してください。管理者は、DHCPサーバのログから、またはアプライアンスのイーサネットポートが接続されているスイッチのMACアドレステーブルを調べて、交換用アプライアンスのMACアドレスを特定できます。

. アプライアンスを取り外して交換します。
+
.. ケーブルにラベルを付け、ケーブルとネットワークトランシーバを取り外します。
+

NOTE: パフォーマンスの低下を防ぐため、ケーブルをねじったり、折り曲げたり、挟んだり、踏んだりしないでください。

.. link:reinstalling-sgf6112-into-cabinet-or-rack.html["障害が発生したアプライアンスをキャビネットまたはラックから取り外す"]。
.. 障害が発生したアプライアンス内の交換可能なコンポーネント（電源装置2台、NIC 3枚、SSD 12本）の位置をメモします。
+
12本のドライブは、シャーシ内で次の位置にあります（ベゼルを取り外した状態のシャーシ前面）。

+
image::../media/sgf6112_ssds_locations.png[ドライブの場所]

+
|===
|  | ドライブ 


 a| 
1.
 a| 
HDD00



 a| 
2.
 a| 
HDD01



 a| 
3.
 a| 
HDD02



 a| 
4.
 a| 
HDD03



 a| 
5.
 a| 
HDD04



 a| 
6.
 a| 
HDD05



 a| 
7.
 a| 
HDD06



 a| 
8
 a| 
HDD07



 a| 
9
 a| 
HDD08



 a| 
10
 a| 
HDD09



 a| 
11
 a| 
HDD10



 a| 
12
 a| 
HDD11

|===
.. 交換可能なコンポーネントを交換用アプライアンスに移動します。
+
交換可能なコンポーネントの再取り付けについては、説明されているメンテナンス手順に従ってください。

+

CAUTION: ドライブ上のデータを保持する場合は、障害が発生したアプライアンスで使用されていたのと同じドライブ スロットに SSD ドライブを挿入します。そうしないと、アプライアンス インストーラによって警告が表示され、アプライアンスがグリッドに再参加する前に、ドライブを正しいスロットに挿入してアプライアンスを再起動する必要があります。

.. link:reinstalling-sgf6112-into-cabinet-or-rack.html["交換用アプライアンスをキャビネットまたはラックに設置する"]。
.. ケーブルと光トランシーバを交換してください。


. アプライアンスの電源をオンにします。
. 交換したアプライアンスでSEDドライブに対してハードウェアドライブ暗号化が有効になっていた場合は、を参照してくださいlink:../installconfig/optional-enabling-node-encryption.html#access-an-encrypted-drive["暗号化されたドライブへのアクセス"]。ガイダンスに従って、交換用アプライアンスを初めて起動したときに暗号化ドライブにアクセスします。この手順を完了するには、リブートが必要です。
. アプライアンスがグリッドに再参加するまで待ちます。アプライアンスがグリッドに再参加しない場合は、StorageGRID アプライアンスインストーラのホームページのガイダンスに従って問題に対処してください。
+

WARNING: ディスクドライブを別のスロットに移動するなど、物理ハードウェアの変更が必要であることがアプライアンスインストーラによって示された場合は、ハードウェアを変更する前にアプライアンスの電源をオフにしてください。

. 交換したアプライアンスでノード暗号化の暗号化キーを管理するためにキー管理サーバ（KMS）を使用していた場合は、ノードをグリッドに追加するために追加の設定が必要になることがあります。ノードが自動的にグリッドに追加されない場合は、次の設定が新しいアプライアンスに転送されたことを確認し、想定される設定と異なる設定があれば手動で設定します。
+
** link:../installconfig/accessing-storagegrid-appliance-installer.html["StorageGRID 接続を設定します"]
** https://docs.netapp.com/us-en/storagegrid/admin/kms-overview-of-kms-and-appliance-configuration.html#set-up-the-appliance["アプライアンスのノード暗号化を設定します"^]


. 交換したアプライアンスにログインします。
+
.. 次のコマンドを入力します。 `ssh admin@_grid_node_IP_`
.. に記載されているパスワードを入力します `Passwords.txt` ファイル。
.. 次のコマンドを入力してrootに切り替えます。 `su -`
.. に記載されているパスワードを入力します `Passwords.txt` ファイル。


. 交換したアプライアンスのBMCネットワーク接続をリストアします。次の 2 つのオプションがあります。
+
** 静的IP、ネットマスク、およびゲートウェイを使用します
** DHCPを使用して、IP、ネットマスク、およびゲートウェイを取得します
+
... 静的IP、ネットマスク、およびゲートウェイを使用するようにBMCの設定をリストアするには、次のコマンドを入力します。
+
`*run-host-command ipmitool lan set 1 ipsrc static*`

+
`*run-host-command ipmitool lan set 1 ipaddr _Appliance_IP_*`

+
`*run-host-command ipmitool lan set 1 netmask _Netmask_IP_*`

+
`*run-host-command ipmitool lan set 1 defgw ipaddr _Default_gateway_*`

... DHCPを使用してIP、ネットマスク、およびゲートウェイを取得するようにBMCの設定を復元するには、次のコマンドを入力します。
+
`*run-host-command ipmitool lan set 1 ipsrc dhcp*`





. BMCネットワーク接続をリストアしたら、BMCインターフェイスに接続して監査し、追加で適用したBMCのカスタム設定をリストアします。たとえば、SNMPトラップの送信先やEメール通知の設定を確認する必要があります。を参照してください link:../installconfig/configuring-bmc-interface.html["BMCインターフェイスの設定"]。
. アプライアンスノードが Grid Manager に表示され、アラートが表示されていないことを確認します。


.完了後
部品の交換後、障害のある部品は、キットに付属する RMA 指示書に従ってネットアップに返却してください。を参照してください https://mysupport.netapp.com/site/info/rma["パーツの返品と交換"^] 詳細については、を参照してください。

.関連情報
* link:../installconfig/viewing-status-indicators.html["ステータスインジケータを表示します"]
* link:../installconfig/troubleshooting-hardware-installation-sg6100.html#view-boot-codes["アプライアンスのブート時のコードを確認します"]

